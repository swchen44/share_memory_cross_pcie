@startuml
title PCIE Slave to Host Data Transfer Sequence Diagram

participant Slave as PCIE Slave
participant Host as PCIE Host
participant DRAM

Slave -> DRAM: Write Data
Slave -> Slave: Update Write Pointer
Slave -> Host: MSI Interrupt
activate Host
Host -> DRAM: Read Data
Host -> Host: Update Read Pointer
Host -> Host: Check for More Data
alt More Data
    Host -> Slave: CCIF Interrupt
    deactivate Host
    Slave -> Slave: Check for More Data to Send
    alt More Data to Send
        Slave -> DRAM: Write Data
    else No More Data to Send
        stop
    end
else No More Data
    deactivate Host
    stop
end

@enduml
